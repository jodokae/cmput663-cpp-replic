<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" language="C" filename="_cppstats/server/util_cfgtree.c"><cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"util_cfgtree.h"</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>&lt;stdlib.h&gt;</cpp:file></cpp:include>
<function><type><name>ap_directive_t</name> *</type><name>ap_add_node</name><parameter_list>(<param><decl><type><name>ap_directive_t</name> **</type><name>parent</name></decl></param>, <param><decl><type><name>ap_directive_t</name> *</type><name>current</name></decl></param>,
<param><decl><type><name>ap_directive_t</name> *</type><name>toadd</name></decl></param>, <param><decl><type><name>int</name></type> <name>child</name></decl></param>)</parameter_list> <block>{
<if>if <condition>(<expr><name>current</name> == <name>NULL</name></expr>)</condition><then> <block>{
<if>if <condition>(<expr>*<name>parent</name> != <name>NULL</name></expr>)</condition><then> <block>{
<expr_stmt><expr><name>(*<name>parent</name>)-&gt;<name>first_child</name></name> = <name>toadd</name></expr>;</expr_stmt>
<expr_stmt><expr><name><name>toadd</name>-&gt;<name>parent</name></name> = *<name>parent</name></expr>;</expr_stmt>
}</block></then></if>
<if>if <condition>(<expr><name>child</name></expr>)</condition><then> <block>{
<expr_stmt><expr>*<name>parent</name> = <name>toadd</name></expr>;</expr_stmt>
<return>return <expr><name>NULL</name></expr>;</return>
}</block></then></if>
<return>return <expr><name>toadd</name></expr>;</return>
}</block></then></if>
<expr_stmt><expr><name><name>current</name>-&gt;<name>next</name></name> = <name>toadd</name></expr>;</expr_stmt>
<expr_stmt><expr><name><name>toadd</name>-&gt;<name>parent</name></name> = *<name>parent</name></expr>;</expr_stmt>
<if>if <condition>(<expr><name>child</name></expr>)</condition><then> <block>{
<expr_stmt><expr>*<name>parent</name> = <name>toadd</name></expr>;</expr_stmt>
<return>return <expr><name>NULL</name></expr>;</return>
}</block></then></if>
<return>return <expr><name>toadd</name></expr>;</return>
}</block></function>
</unit>
