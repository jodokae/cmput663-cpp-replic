<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" language="C" filename="projects/subversion-1.5.1/source/subversion/include/svn_ra.h"><comment type="block">/**
 * @copyright
 * ====================================================================
 * Copyright (c) 2000-2008 CollabNet.  All rights reserved.
 *
 * This software is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at http://subversion.tigris.org/license-1.html.
 * If newer versions of this license are posted there, you may use a
 * newer version instead, at your option.
 *
 * This software consists of voluntary contributions made by many
 * individuals.  For exact contribution history, see the revision
 * history and logs, available at http://subversion.tigris.org/.
 * ====================================================================
 * @endcopyright
 *
 * @file svn_ra.h
 * @brief Repository Access
 */</comment>


<escape char="0xc"/>

<cpp:ifndef>#<cpp:directive>ifndef</cpp:directive> <name>SVN_RA_H</name></cpp:ifndef>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_H</name></cpp:macro></cpp:define>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>&lt;apr_pools.h&gt;</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>&lt;apr_tables.h&gt;</cpp:file></cpp:include>

<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"svn_error.h"</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"svn_delta.h"</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"svn_auth.h"</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"svn_mergeinfo.h"</cpp:file></cpp:include>

<cpp:ifdef>#<cpp:directive>ifdef</cpp:directive> <name>__cplusplus</name></cpp:ifdef>
<extern>extern "C" <block>{
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif> <comment type="block">/* __cplusplus */</comment>


<escape char="0xc"/>
<comment type="block">/* Misc. declarations */</comment>

<comment type="block">/**
 * Get libsvn_ra version information.
 *
 * @since New in 1.1.
 */</comment>
<function_decl><type><specifier>const</specifier> <name>svn_version_t</name> *</type><name>svn_ra_version</name><parameter_list>(<param><decl><type><name>void</name></type></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/** This is a function type which allows the RA layer to fetch working
 * copy (WC) properties.
 *
 * The @a baton is provided along with the function pointer and should
 * be passed back in. This will be the @a callback_baton or the
 * @a close_baton as appropriate.
 *
 * @a path is relative to the "root" of the session, defined by the
 * @a repos_URL passed to svn_ra_open3() vtable call.
 *
 * @a name is the name of the property to fetch. If the property is present,
 * then it is returned in @a value. Otherwise, @a *value is set to @c NULL.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_get_wc_prop_func_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>relpath</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>svn_string_t</name> **</type><name>value</name></decl></param>,
                                                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/** This is a function type which allows the RA layer to store new
 * working copy properties during update-like operations.  See the
 * comments for @c svn_ra_get_wc_prop_func_t for @a baton, @a path, and
 * @a name. The @a value is the value that will be stored for the property;
 * a NULL @a value means the property will be deleted.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_set_wc_prop_func_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                                                  <param><decl><type><specifier>const</specifier> <name>svn_string_t</name> *</type><name>value</name></decl></param>,
                                                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/** This is a function type which allows the RA layer to store new
 * working copy properties as part of a commit.  See the comments for
 * @c svn_ra_get_wc_prop_func_t for @a baton, @a path, and @a name.
 * The @a value is the value that will be stored for the property; a
 * @c NULL @a value means the property will be deleted.
 *
 * Note that this might not actually store the new property before
 * returning, but instead schedule it to be changed as part of
 * post-commit processing (in which case a successful commit means the
 * properties got written).  Thus, during the commit, it is possible
 * to invoke this function to set a new value for a wc prop, then read
 * the wc prop back from the working copy and get the *old* value.
 * Callers beware.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_push_wc_prop_func_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                                   <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                                   <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                                                   <param><decl><type><specifier>const</specifier> <name>svn_string_t</name> *</type><name>value</name></decl></param>,
                                                   <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/** This is a function type which allows the RA layer to invalidate
 * (i.e., remove) wcprops recursively.  See the documentation for
 * @c svn_ra_get_wc_prop_func_t for @a baton, @a path, and @a name.
 *
 * Unlike @c svn_ra_push_wc_prop_func_t, this has immediate effect.  If
 * it returns success, the wcprops have been removed.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_invalidate_wc_props_func_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                                                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>


<comment type="block">/** A function type for retrieving the youngest revision from a repos. */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_get_latest_revnum_func_t</name>)
  <parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
   <param><decl><type><name>svn_revnum_t</name> *</type><name>latest_revnum</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/** A function type which allows the RA layer to ask about any
 * customizations to the client name string.  This is primarily used
 * by HTTP-based RA layers wishing to extend the string reported to
 * Apache/mod_dav_svn via the User-agent HTTP header.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_get_client_string_func_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                                        <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>name</name></decl></param>,
                                                        <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>


<comment type="block">/**
 * A callback function type for use in @c get_file_revs.
 * @a baton is provided by the caller, @a path is the pathname of the file
 * in revision @a rev and @a rev_props are the revision properties.
 * If @a delta_handler and @a delta_baton are non-NULL, they may be set to a
 * handler/baton which will be called with the delta between the previous
 * revision and this one after the return of this callback.  They may be
 * left as NULL/NULL.
 * @a prop_diffs is an array of svn_prop_t elements indicating the property
 * delta for this and the previous revision.
 * @a pool may be used for temporary allocations, but you can't rely
 * on objects allocated to live outside of this particular call and the
 * immediately following calls to @a *delta_handler, if any.
 *
 * @since New in 1.1.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_file_rev_handler_t</name>)
  <parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
   <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
   <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
   <param><decl><type><name>apr_hash_t</name> *</type><name>rev_props</name></decl></param>,
   <param><decl><type><name>svn_txdelta_window_handler_t</name> *</type><name>delta_handler</name></decl></param>,
   <param><decl><type><name>void</name> **</type><name>delta_baton</name></decl></param>,
   <param><decl><type><name>apr_array_header_t</name> *</type><name>prop_diffs</name></decl></param>,
   <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/**
 * Callback function type for locking and unlocking actions.
 *
 * @since New in 1.2.
 *
 * @a do_lock is TRUE when locking @a path, and FALSE
 * otherwise.
 *
 * @a lock is a lock for @a path or NULL if @a do_lock is FALSE or @a ra_err is
 * non-NULL.
 *
 * @a ra_err is NULL unless the ra layer encounters a locking related
 * error which it passes back for notification purposes.  The caller
 * is responsible for clearing @a ra_err after the callback is run.
 *
 * @a baton is a closure object; it should be provided by the
 * implementation, and passed by the caller.  @a pool may be used for
 * temporary allocation.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_lock_callback_t</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                               <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                               <param><decl><type><name>svn_boolean_t</name></type> <name>do_lock</name></decl></param>,
                                               <param><decl><type><specifier>const</specifier> <name>svn_lock_t</name> *</type><name>lock</name></decl></param>,
                                               <param><decl><type><name>svn_error_t</name> *</type><name>ra_err</name></decl></param>,
                                               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/**
 * Callback function type for progress notification.
 *
 * @a progress is the number of bytes already transferred, @a total is
 * the total number of bytes to transfer or -1 if it's not known, @a
 * baton is the callback baton.
 *
 * @since New in 1.3.
 */</comment>
<typedef>typedef <function_decl><type><name>void</name></type> (*<name>svn_ra_progress_notify_func_t</name>)<parameter_list>(<param><decl><type><name>apr_off_t</name></type> <name>progress</name></decl></param>,
                                              <param><decl><type><name>apr_off_t</name></type> <name>total</name></decl></param>,
                                              <param><decl><type><name>void</name> *</type><name>baton</name></decl></param>,
                                              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/**
 * Callback function type for replay_range actions.
 * 
 * This callback function should provide replay_range with an editor which 
 * will be driven with the received replay reports from the master repository.
 *
 * @a revision is the target revision number of the received replay report.
 * 
 * @a editor and @a edit_baton should provided by the callback implementation.
 *
 * @a replay_baton is the baton as originally passed to replay_range.
 *
 * @a revprops contains key/value pairs for each revision properties for this
 * revision.
 *
 * @since New in 1.5.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_replay_revstart_callback_t</name>)
  <parameter_list>(<param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
   <param><decl><type><name>void</name> *</type><name>replay_baton</name></decl></param>,
   <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> **</type><name>editor</name></decl></param>,
   <param><decl><type><name>void</name> **</type><name>edit_baton</name></decl></param>,
   <param><decl><type><name>apr_hash_t</name> *</type><name>rev_props</name></decl></param>,
   <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/**
 * Callback function type for replay_range actions.
 * 
 * This callback function should close the editor.
 * 
 * @a revision is the target revision number of the received replay report.
 * 
 * @a editor and @a edit_baton should provided by the callback implementation.
 *
 * @a replay_baton is the baton as originally passed to replay_range.
 *
 * @a revprops contains key/value pairs for each revision properties for this
 * revision.
 *
 * @since New in 1.5.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_replay_revfinish_callback_t</name>)
  <parameter_list>(<param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
   <param><decl><type><name>void</name> *</type><name>replay_baton</name></decl></param>,
   <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>editor</name></decl></param>,
   <param><decl><type><name>void</name> *</type><name>edit_baton</name></decl></param>,
   <param><decl><type><name>apr_hash_t</name> *</type><name>rev_props</name></decl></param>,
   <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl></typedef>

<escape char="0xc"/>
<comment type="block">/**
 * The update Reporter.
 *
 * A vtable structure which allows a working copy to describe a subset
 * (or possibly all) of its working-copy to an RA layer, for the
 * purposes of an update, switch, status, or diff operation.
 *
 * Paths for report calls are relative to the target (not the anchor)
 * of the operation.  Report calls must be made in depth-first order:
 * parents before children, all children of a parent before any
 * siblings of the parent.  The first report call must be a set_path
 * with a @a path argument of "" and a valid revision.  (If the target
 * of the operation is locally deleted or missing, use the anchor's
 * revision.)  If the target of the operation is deleted or switched
 * relative to the anchor, follow up the initial set_path call with a
 * link_path or delete_path call with a @a path argument of "" to
 * indicate that.  In no other case may there be two report
 * descriptions for the same path.  If the target of the operation is
 * a locally added file or directory (which previously did not exist),
 * it may be reported as having revision 0 or as having the parent
 * directory's revision.
 *
 * @since New in 1.5.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_reporter3_t</name>
<block>{
  <comment type="block">/** Describe a working copy @a path as being at a particular
   * @a revision and having depth @a depth.
   *
   * @a revision may be SVN_INVALID_REVNUM if (for example) @a path
   * represents a locally-added path with no revision number, or @a
   * depth is @c svn_depth_exclude.  
   *
   * @a path may not be underneath a path on which set_path() was
   * previously called with @c svn_depth_exclude in this report.
   *
   * If @a start_empty is set and @a path is a directory, the
   * implementor should assume the directory has no entries or props.
   *
   * This will *override* any previous set_path() calls made on parent
   * paths.  @a path is relative to the URL specified in svn_ra_open3().
   *
   * If @a lock_token is non-NULL, it is the lock token for @a path in the WC.
   *
   * All temporary allocations are done in @a pool.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>set_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                           <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                           <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>lock_token</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Describing a working copy @a path as missing.
   *
   * @a path may not be underneath a path on which set_path() was
   * previously called with @c svn_depth_exclude in this report.
   *
   * All temporary allocations are done in @a pool.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>delete_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                              <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Like set_path(), but differs in that @a path in the working copy
   * (relative to the root of the report driver) isn't a reflection of
   * @a path in the repository (relative to the URL specified when
   * opening the RA layer), but is instead a reflection of a different
   * repository @a url at @a revision, and has depth @a depth.
   *
   * @a path may not be underneath a path on which set_path() was
   * previously called with @c svn_depth_exclude in this report.
   *
   * If @a start_empty is set and @a path is a directory,
   * the implementor should assume the directory has no entries or props.
   *
   * If @a lock_token is non-NULL, it is the lock token for @a path in the WC.
   *
   * All temporary allocations are done in @a pool.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>link_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>url</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                            <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>lock_token</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** WC calls this when the state report is finished; any directories
   * or files not explicitly `set' are assumed to be at the
   * baseline revision originally passed into do_update().  No other
   * reporting functions, including abort_report, should be called after
   * calling this function.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>finish_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** If an error occurs during a report, this routine should cause the
   * filesystem transaction to be aborted &amp; cleaned up.  No other reporting
   * functions should be called after calling this function.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>abort_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

}</block></struct></type> <name>svn_ra_reporter3_t</name>;</typedef>

<comment type="block">/**
 * Similar to @c svn_ra_reporter3_t, but without support for depths.
 *
 * @deprecated Provided for backward compatibility with the 1.4 API.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_reporter2_t</name>
<block>{
  <comment type="block">/** Similar to the corresponding field in @c svn_ra_reporter3_t, but
   * with @a depth always set to @c svn_depth_infinity. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>set_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                           <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>lock_token</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter3_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>delete_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                              <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Similar to the corresponding field in @c svn_ra_reporter3_t, but
   * with @a depth always set to @c svn_depth_infinity. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>link_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>url</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>lock_token</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter3_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>finish_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter3_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>abort_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

}</block></struct></type> <name>svn_ra_reporter2_t</name>;</typedef>

<comment type="block">/**
 * Similar to @c svn_ra_reporter2_t, but without support for lock tokens.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_reporter_t</name>
<block>{
  <comment type="block">/** Similar to the corresponding field in @c svn_ra_reporter2_t, but
   * with @a lock_token always set to NULL. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>set_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                           <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter2_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>delete_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                              <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Similar to the corresponding field in @c svn_ra_reporter2_t, but
   * with @a lock_token always set to NULL. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>link_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>url</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>start_empty</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter2_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>finish_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Same as the corresponding field in @c svn_ra_reporter2_t. */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>abort_report</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>report_baton</name></decl></param>,
                               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>
}</block></struct></type> <name>svn_ra_reporter_t</name>;</typedef>


<comment type="block">/** A collection of callbacks implemented by libsvn_client which allows
 * an RA layer to "pull" information from the client application, or
 * possibly store information.  libsvn_client passes this vtable to
 * svn_ra_open3().
 *
 * Each routine takes a @a callback_baton originally provided with the
 * vtable.
 *
 * Clients must use svn_ra_create_callbacks() to allocate and
 * initialize this structure.
 *
 * @since New in 1.3.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_callbacks2_t</name>
<block>{
  <comment type="block">/** Open a unique temporary file for writing in the working copy.
   * This file will be automatically deleted when @a fp is closed.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>open_tmp_file</name>)<parameter_list>(<param><decl><type><name>apr_file_t</name> **</type><name>fp</name></decl></param>,
                                <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** An authentication baton, created by the application, which is
   * capable of retrieving all known types of credentials.
   */</comment>
  <decl_stmt><decl><type><name>svn_auth_baton_t</name> *</type><name>auth_baton</name></decl>;</decl_stmt>

  <comment type="block">/*** The following items may be set to NULL to disallow the RA layer
       to perform the respective operations of the vtable functions.
       Perhaps WC props are not defined or are in invalid for this
       session, or perhaps the commit operation this RA session will
       perform is a server-side only one that shouldn't do post-commit
       processing on a working copy path.  ***/</comment>

  <comment type="block">/** Fetch working copy properties.
   *
   *&lt;pre&gt; ### we might have a problem if the RA layer ever wants a property
   * ### that corresponds to a different revision of the file than
   * ### what is in the WC. we'll cross that bridge one day...&lt;/pre&gt;
   */</comment>
  <decl_stmt><decl><type><name>svn_ra_get_wc_prop_func_t</name></type> <name>get_wc_prop</name></decl>;</decl_stmt>

  <comment type="block">/** Immediately set new values for working copy properties. */</comment>
  <decl_stmt><decl><type><name>svn_ra_set_wc_prop_func_t</name></type> <name>set_wc_prop</name></decl>;</decl_stmt>

  <comment type="block">/** Schedule new values for working copy properties. */</comment>
  <decl_stmt><decl><type><name>svn_ra_push_wc_prop_func_t</name></type> <name>push_wc_prop</name></decl>;</decl_stmt>

  <comment type="block">/** Invalidate working copy properties. */</comment>
  <decl_stmt><decl><type><name>svn_ra_invalidate_wc_props_func_t</name></type> <name>invalidate_wc_props</name></decl>;</decl_stmt>

  <comment type="block">/** Notification callback used for progress information.
   * May be NULL if not used.
   */</comment>
  <decl_stmt><decl><type><name>svn_ra_progress_notify_func_t</name></type> <name>progress_func</name></decl>;</decl_stmt>

  <comment type="block">/** Notification callback baton, used with progress_func. */</comment>
  <decl_stmt><decl><type><name>void</name> *</type><name>progress_baton</name></decl>;</decl_stmt>

  <comment type="block">/** Cancelation function
   *
   * As its baton, the general callback baton is used
   *
   * @since New in 1.5
   */</comment>
  <decl_stmt><decl><type><name>svn_cancel_func_t</name></type> <name>cancel_func</name></decl>;</decl_stmt>

  <comment type="block">/** Client string customization callback function
   * @since New in 1.5
   */</comment>
  <decl_stmt><decl><type><name>svn_ra_get_client_string_func_t</name></type> <name>get_client_string</name></decl>;</decl_stmt>

}</block></struct></type> <name>svn_ra_callbacks2_t</name>;</typedef>

<comment type="block">/** Similar to svn_ra_callbacks2_t, except that the progress
 * notification function and baton is missing.
 *
 * @deprecated Provided for backward compatibility with the 1.2 API.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_callbacks_t</name>
<block>{
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>open_tmp_file</name>)<parameter_list>(<param><decl><type><name>apr_file_t</name> **</type><name>fp</name></decl></param>,
                                <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <decl_stmt><decl><type><name>svn_auth_baton_t</name> *</type><name>auth_baton</name></decl>;</decl_stmt>

  <decl_stmt><decl><type><name>svn_ra_get_wc_prop_func_t</name></type> <name>get_wc_prop</name></decl>;</decl_stmt>

  <decl_stmt><decl><type><name>svn_ra_set_wc_prop_func_t</name></type> <name>set_wc_prop</name></decl>;</decl_stmt>

  <decl_stmt><decl><type><name>svn_ra_push_wc_prop_func_t</name></type> <name>push_wc_prop</name></decl>;</decl_stmt>

  <decl_stmt><decl><type><name>svn_ra_invalidate_wc_props_func_t</name></type> <name>invalidate_wc_props</name></decl>;</decl_stmt>

}</block></struct></type> <name>svn_ra_callbacks_t</name>;</typedef>



<comment type="block">/*----------------------------------------------------------------------*/</comment>
<escape char="0xc"/>
<comment type="block">/* Public Interfaces. */</comment>

<comment type="block">/**
 * Initialize the RA library.  This function must be called before using
 * any function in this header, except the deprecated APIs based on
 * @c svn_ra_plugin_t, or svn_ra_version().  This function must not be called
 * simultaneously in multiple threads.  @a pool must live
 * longer than any open RA sessions.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_initialize</name><parameter_list>(<param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Initialize a callback structure.
* Set @a *callbacks to a ra callbacks object, allocated in @a pool.
*
* Clients must use this function to allocate and initialize @c
* svn_ra_callbacks2_t structures.
*
* @since New in 1.3.
*/</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_create_callbacks</name><parameter_list>(<param><decl><type><name>svn_ra_callbacks2_t</name> **</type><name>callbacks</name></decl></param>,
                        <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * A repository access session.  This object is used to perform requests
 * to a repository, identified by an URL.
 *
 * @since New in 1.2.
 */</comment>
<typedef>typedef <type>struct <name>svn_ra_session_t</name></type> <name>svn_ra_session_t</name>;</typedef>

<comment type="block">/**
 * Open a repository session to @a repos_URL.  Return an opaque object
 * representing this session in @a *session_p, allocated in @a pool.
 *
 * Return @c SVN_ERR_RA_UUID_MISMATCH if @a uuid is non-NULL and not equal
 * to the UUID of the repository at @c repos_URL.
 *
 * @a callbacks/@a callback_baton is a table of callbacks provided by the
 * client; see @c svn_ra_callbacks2_t.
 *
 * @a config is a hash mapping &lt;tt&gt;const char *&lt;/tt&gt; keys to
 * @c svn_config_t * values.  For example, the @c svn_config_t for the
 * "~/.subversion/config" file is under the key "config".
 *
 * All RA requests require a session; they will continue to
 * use @a pool for memory allocation.
 *
 * @see svn_client_open_ra_session().
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_open3</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> **</type><name>session_p</name></decl></param>,
             <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>repos_URL</name></decl></param>,
             <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>uuid</name></decl></param>,
             <param><decl><type><specifier>const</specifier> <name>svn_ra_callbacks2_t</name> *</type><name>callbacks</name></decl></param>,
             <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
             <param><decl><type><name>apr_hash_t</name> *</type><name>config</name></decl></param>,
             <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similiar to svn_ra_open3(), but with @a uuid set to @c NULL.
 *
 * @since New in 1.3.
 * @deprecated Provided for backward compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_open2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> **</type><name>session_p</name></decl></param>,
             <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>repos_URL</name></decl></param>,
             <param><decl><type><specifier>const</specifier> <name>svn_ra_callbacks2_t</name> *</type><name>callbacks</name></decl></param>,
             <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
             <param><decl><type><name>apr_hash_t</name> *</type><name>config</name></decl></param>,
             <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * @see svn_ra_open2().
 * @since New in 1.2.
 * @deprecated Provided for backward compatibility with the 1.2 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_open</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> **</type><name>session_p</name></decl></param>,
            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>repos_URL</name></decl></param>,
            <param><decl><type><specifier>const</specifier> <name>svn_ra_callbacks_t</name> *</type><name>callbacks</name></decl></param>,
            <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
            <param><decl><type><name>apr_hash_t</name> *</type><name>config</name></decl></param>,
            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Change the root URL of an open @a ra_session to point to a new path in the
 * same repository.  @a url is the new root URL.  Use @a pool for
 * temporary allocations.
 *
 * If @a url has a different repository root than the current session
 * URL, return @c SVN_ERR_RA_ILLEGAL_URL.
 *
 * @since New in 1.4.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_reparent</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>ra_session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>url</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Set @a *url to the repository URL to which @a ra_session was
 * opened or most recently reparented.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_session_url</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>ra_session</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>url</name></decl></param>,
                       <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Get the latest revision number from the repository of @a session.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_latest_revnum</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                         <param><decl><type><name>svn_revnum_t</name> *</type><name>latest_revnum</name></decl></param>,
                         <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Get the latest revision number at time @a tm in the repository of
 * @a session.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_dated_revision</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name> *</type><name>revision</name></decl></param>,
                          <param><decl><type><name>apr_time_t</name></type> <name>tm</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set the property @a name to @a value on revision @a rev in the repository
 * of @a session.
 *
 * If @a value is @c NULL, delete the named revision property.
 *
 * Please note that properties attached to revisions are @em unversioned.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_change_rev_prop</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                       <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>svn_string_t</name> *</type><name>value</name></decl></param>,
                       <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *props to the list of unversioned properties attached to revision
 * @a rev in the repository of @a session.  The hash maps
 * (&lt;tt&gt;const char *&lt;/tt&gt;) names to (&lt;tt&gt;@c svn_string_t *&lt;/tt&gt;) values.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_rev_proplist</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                    <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                    <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                    <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *value to the value of unversioned property @a name attached to
 * revision @a rev in the repository of @a session.  If @a rev has no
 * property by that name, set @a *value to @c NULL.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_rev_prop</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                <param><decl><type><name>svn_string_t</name> **</type><name>value</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *editor and @a *edit_baton to an editor for committing
 * changes to the repository of @a session, setting the revision
 * properties from @a revprop_table.  The revisions being committed
 * against are passed to the editor functions, starting with the rev
 * argument to @c open_root.  The path root of the commit is the @a
 * session's URL.
 *
 * @a revprop_table is a hash mapping &lt;tt&gt;const char *&lt;/tt&gt; property
 * names to @c svn_string_t property values.  The commit log message
 * is expected to be in the @c SVN_PROP_REVISION_LOG element.  @a
 * revprop_table can not contain either of @c SVN_PROP_REVISION_DATE
 * or @c SVN_PROP_REVISION_AUTHOR.
 *
 * Before @c close_edit returns, but after the commit has succeeded,
 * it will invoke @a callback with the new revision number, the
 * commit date (as a &lt;tt&gt;const char *&lt;/tt&gt;), commit author (as a
 * &lt;tt&gt;const char *&lt;/tt&gt;), and @a callback_baton as arguments.  If
 * @a callback returns an error, that error will be returned from @c
 * close_edit, otherwise @c close_edit will return successfully
 * (unless it encountered an error before invoking @a callback).
 *
 * The callback will not be called if the commit was a no-op
 * (i.e. nothing was committed);
 *
 * @a lock_tokens, if non-NULL, is a hash mapping &lt;tt&gt;const char
 * *&lt;/tt&gt; paths (relative to the URL of @a session) to &lt;tt&gt;
 * const char *&lt;/tt&gt; lock tokens.  The server checks that the
 * correct token is provided for each committed, locked path.  @a lock_tokens
 * must live during the whole commit operation.
 *
 * If @a keep_locks is @c TRUE, then do not release locks on
 * committed objects.  Else, automatically release such locks.
 *
 * The caller may not perform any RA operations using @a session before
 * finishing the edit.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_commit_editor3</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> **</type><name>editor</name></decl></param>,
                          <param><decl><type><name>void</name> **</type><name>edit_baton</name></decl></param>,
                          <param><decl><type><name>apr_hash_t</name> *</type><name>revprop_table</name></decl></param>,
                          <param><decl><type><name>svn_commit_callback2_t</name></type> <name>callback</name></decl></param>,
                          <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                          <param><decl><type><name>apr_hash_t</name> *</type><name>lock_tokens</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>keep_locks</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Same as svn_ra_get_commit_editor3(), but with @c revprop_table set
 * to a hash containing the @c SVN_PROP_REVISION_LOG property set
 * to the value of @a log_msg.
 *
 * @since New in 1.4.
 *
 * @deprecated Provided for backward compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_commit_editor2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> **</type><name>editor</name></decl></param>,
                          <param><decl><type><name>void</name> **</type><name>edit_baton</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>log_msg</name></decl></param>,
                          <param><decl><type><name>svn_commit_callback2_t</name></type> <name>callback</name></decl></param>,
                          <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                          <param><decl><type><name>apr_hash_t</name> *</type><name>lock_tokens</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>keep_locks</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Same as svn_ra_get_commit_editor2(), but uses @c svn_commit_callback_t.
 *
 * @since New in 1.2.
 *
 * @deprecated Provided for backward compatibility with the 1.3 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_commit_editor</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                         <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> **</type><name>editor</name></decl></param>,
                         <param><decl><type><name>void</name> **</type><name>edit_baton</name></decl></param>,
                         <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>log_msg</name></decl></param>,
                         <param><decl><type><name>svn_commit_callback_t</name></type> <name>callback</name></decl></param>,
                         <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                         <param><decl><type><name>apr_hash_t</name> *</type><name>lock_tokens</name></decl></param>,
                         <param><decl><type><name>svn_boolean_t</name></type> <name>keep_locks</name></decl></param>,
                         <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Fetch the contents and properties of file @a path at @a revision.
 * @a revision may be SVN_INVALID_REVNUM, indicating that the HEAD
 * revision should be used.  Interpret @a path relative to the URL in
 * @a session.  Use @a pool for all allocations.
 *
 * If @a revision is @c SVN_INVALID_REVNUM and @a fetched_rev is not
 * @c NULL, then set @a *fetched_rev to the actual revision that was
 * retrieved.
 *
 * If @a stream is non @c NULL, push the contents of the file at @a
 * stream, do not call svn_stream_close() when finished.
 *
 * If @a props is non @c NULL, set @a *props to contain the properties of
 * the file.  This means @em all properties: not just ones controlled by
 * the user and stored in the repository fs, but non-tweakable ones
 * generated by the SCM system itself (e.g. 'wcprops', 'entryprops',
 * etc.)  The keys are &lt;tt&gt;const char *&lt;/tt&gt;, values are
 * &lt;tt&gt;@c svn_string_t *&lt;/tt&gt;.
 *
 * The stream handlers for @a stream may not perform any RA
 * operations using @a session.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_file</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                <param><decl><type><name>svn_stream_t</name> *</type><name>stream</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name> *</type><name>fetched_rev</name></decl></param>,
                <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * If @a dirents is non @c NULL, set @a *dirents to contain all the entries
 * of directory @a path at @a revision.  The keys of @a dirents will be
 * entry names (&lt;tt&gt;const char *&lt;/tt&gt;), and the values dirents
 * (&lt;tt&gt;@c svn_dirent_t *&lt;/tt&gt;).  Use @a pool for all allocations.
 *
 * @a dirent_fields controls which portions of the &lt;tt&gt;@c svn_dirent_t&lt;/tt&gt;
 * objects are filled in.  To have them completely filled in just pass
 * @c SVN_DIRENT_ALL, otherwise pass the bitwise OR of all the @c SVN_DIRENT_
 * fields you would like to have returned to you.
 *
 * @a path is interpreted relative to the URL in @a session.
 *
 * If @a revision is @c SVN_INVALID_REVNUM (meaning 'head') and
 * @a *fetched_rev is not @c NULL, then this function will set
 * @a *fetched_rev to the actual revision that was retrieved.  (Some
 * callers want to know, and some don't.)
 *
 * If @a props is non @c NULL, set @a *props to contain the properties of
 * the directory.  This means @em all properties: not just ones controlled by
 * the user and stored in the repository fs, but non-tweakable ones
 * generated by the SCM system itself (e.g. 'wcprops', 'entryprops',
 * etc.)  The keys are &lt;tt&gt;const char *&lt;/tt&gt;, values are
 * &lt;tt&gt;@c svn_string_t *&lt;/tt&gt;.
 *
 * @since New in 1.4.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_dir2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><name>apr_hash_t</name> **</type><name>dirents</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name> *</type><name>fetched_rev</name></decl></param>,
                <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                <param><decl><type><name>apr_uint32_t</name></type> <name>dirent_fields</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to @c svn_ra_get_dir2, but with @c SVN_DIRENT_ALL for the
 * @a dirent_fields parameter.
 *
 * @since New in 1.2.
 *
 * @deprecated Provided for compatibility with the 1.3 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_dir</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
               <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
               <param><decl><type><name>apr_hash_t</name> **</type><name>dirents</name></decl></param>,
               <param><decl><type><name>svn_revnum_t</name> *</type><name>fetched_rev</name></decl></param>,
               <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *catalog to a mergeinfo catalog for the paths in @a paths.
 * If no mergeinfo is available, set @a *catalog to @c NULL.  The
 * requested mergeinfo hashes are for @a paths (which are relative to
 * @a session's URL) in @a revision.  If one of the paths does not exist
 * in that revision, return SVN_ERR_FS_NOT_FOUND.
 *
 * @a inherit indicates whether explicit, explicit or inherited, or
 * only inherited mergeinfo for @a paths is retrieved.
 *
 * If @a include_descendants is TRUE, then additionally return the
 * mergeinfo for any descendant of any element of @a paths which has
 * the @c SVN_PROP_MERGEINFO property explicitly set on it.  (Note
 * that inheritance is only taken into account for the elements in @a
 * paths; descendants of the elements in @a paths which get their
 * mergeinfo via inheritance are not included in @a *catalog.)
 *
 * Allocate the returned values in @a pool.
 *
 * If @a revision is @c SVN_INVALID_REVNUM, it defaults to youngest.
 *
 * If the server doesn't support retrieval of mergeinfo (which can
 * happen even for file:// URLs, if the repository itself hasn't been
 * upgraded), return @c SVN_ERR_UNSUPPORTED_FEATURE in preference to
 * any other error that might otherwise be returned.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_mergeinfo</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                     <param><decl><type><name>svn_mergeinfo_catalog_t</name> *</type><name>catalog</name></decl></param>,
                     <param><decl><type><specifier>const</specifier> <name>apr_array_header_t</name> *</type><name>paths</name></decl></param>,
                     <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                     <param><decl><type><name>svn_mergeinfo_inheritance_t</name></type> <name>inherit</name></decl></param>,
                     <param><decl><type><name>svn_boolean_t</name></type> <name>include_descendants</name></decl></param>,
                     <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Ask the RA layer to update a working copy.
 *
 * The client initially provides an @a update_editor/@a update_baton to the
 * RA layer; this editor contains knowledge of where the change will
 * begin in the working copy (when @c open_root() is called).
 *
 * In return, the client receives a @a reporter/@a report_baton.  The
 * client then describes its working copy by making calls into the
 * @a reporter.
 *
 * When finished, the client calls @a reporter-&gt;finish_report().  The
 * RA layer then does a complete drive of @a update_editor, ending with
 * @a update_editor-&gt;close_edit(), to update the working copy.
 *
 * @a update_target is an optional single path component to restrict
 * the scope of the update to just that entry (in the directory
 * represented by the @a session's URL).  If @a update_target is the
 * empty string, the entire directory is updated.
 *
 * Update the target only as deeply as @a depth indicates.
 *
 * If @a send_copyfrom_args is TRUE, then ask the server to send
 * copyfrom arguments to add_file() and add_directory() when possible.
 * (Note: this means that any subsequent txdeltas coming from the
 * server are presumed to apply against the copied file!)
 *
 * The working copy will be updated to @a revision_to_update_to, or the
 * "latest" revision if this arg is invalid.
 *
 * The caller may not perform any RA operations using @a session before
 * finishing the report, and may not perform any RA operations using
 * @a session from within the editing operations of @a update_editor.
 *
 * Use @a pool for memory allocation.
 *
 * @note The reporter provided by this function does NOT supply copy-
 * from information to the diff editor callbacks.
 *
 * @note In order to prevent pre-1.5 servers from doing more work than
 * needed, and sending too much data back, a pre-1.5 'recurse'
 * directive may be sent to the server, based on @a depth.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_update2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter3_t</name> **</type><name>reporter</name></decl></param>,
                  <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                  <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_update_to</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>update_target</name></decl></param>,
                  <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                  <param><decl><type><name>svn_boolean_t</name></type> <name>send_copyfrom_args</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>update_editor</name></decl></param>,
                  <param><decl><type><name>void</name> *</type><name>update_baton</name></decl></param>,
                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to svn_ra_do_update2(), but taking @c svn_ra_reporter2_t
 * instead of @c svn_ra_reporter3_t.  If @a recurse is TRUE, pass
 * @c svn_depth_infinity for @a depth, else pass @c svn_depth_files.
 *
 * @deprecated Provided for compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_update</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter2_t</name> **</type><name>reporter</name></decl></param>,
                 <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                 <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_update_to</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>update_target</name></decl></param>,
                 <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>update_editor</name></decl></param>,
                 <param><decl><type><name>void</name> *</type><name>update_baton</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Ask the RA layer to 'switch' a working copy to a new
 * @a switch_url;  it's another form of svn_ra_do_update().
 *
 * The client initially provides a @a switch_editor/@a switch_baton to the RA
 * layer; this editor contains knowledge of where the change will
 * begin in the working copy (when open_root() is called).
 *
 * In return, the client receives a @a reporter/@a report_baton.  The
 * client then describes its working copy by making calls into the
 * @a reporter.
 *
 * When finished, the client calls @a reporter-&gt;finish_report().  The
 * RA layer then does a complete drive of @a switch_editor, ending with
 * close_edit(), to switch the working copy.
 *
 * @a switch_target is an optional single path component will restrict
 * the scope of things affected by the switch to an entry in the
 * directory represented by the @a session's URL, or empty if the
 * entire directory is meant to be switched.
 *
 * Switch the target only as deeply as @a depth indicates.
 *
 * The working copy will be switched to @a revision_to_switch_to, or the
 * "latest" revision if this arg is invalid.
 *
 * The caller may not perform any RA operations using
 * @a session before finishing the report, and may not perform
 * any RA operations using @a session from within the editing
 * operations of @a switch_editor.
 *
 * Use @a pool for memory allocation.
 *
 * @note The reporter provided by this function does NOT supply copy-
 * from information to the diff editor callbacks.
 *
 * @note In order to prevent pre-1.5 servers from doing more work than
 * needed, and sending too much data back, a pre-1.5 'recurse'
 * directive may be sent to the server, based on @a depth.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_switch2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter3_t</name> **</type><name>reporter</name></decl></param>,
                  <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                  <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_switch_to</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_target</name></decl></param>,
                  <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_url</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>switch_editor</name></decl></param>,
                  <param><decl><type><name>void</name> *</type><name>switch_baton</name></decl></param>,
                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to svn_ra_do_switch2(), but taking @c svn_ra_reporter2_t
 * instead of @c svn_ra_reporter3_t, and therefore only able to report
 * @c svn_depth_infinity for depths.  The switch itself is performed
 * according to @a recurse: if TRUE, then use @c svn_depth_infinity
 * for @a depth, else use @c svn_depth_files.
 *
 * @deprecated Provided for compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_switch</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter2_t</name> **</type><name>reporter</name></decl></param>,
                 <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                 <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_switch_to</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_target</name></decl></param>,
                 <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_url</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>switch_editor</name></decl></param>,
                 <param><decl><type><name>void</name> *</type><name>switch_baton</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Ask the RA layer to describe the status of a working copy with respect
 * to @a revision of the repository (or HEAD, if @a revision is invalid).
 *
 * The client initially provides a @a status_editor/@a status_baton to the RA
 * layer; this editor contains knowledge of where the change will
 * begin in the working copy (when open_root() is called).
 *
 * In return, the client receives a @a reporter/@a report_baton. The
 * client then describes its working copy by making calls into the
 * @a reporter.
 *
 * When finished, the client calls @a reporter-&gt;finish_report(). The RA
 * layer then does a complete drive of @a status_editor, ending with
 * close_edit(), to report, essentially, what would be modified in
 * the working copy were the client to call do_update().
 * @a status_target is an optional single path component will restrict
 * the scope of the status report to an entry in the directory
 * represented by the @a session's URL, or empty if the entire directory
 * is meant to be examined.
 *
 * Get status only as deeply as @a depth indicates.
 *
 * The caller may not perform any RA operations using @a session
 * before finishing the report, and may not perform any RA operations
 * using @a session from within the editing operations of @a status_editor.
 *
 * Use @a pool for memory allocation.
 *
 * @note The reporter provided by this function does NOT supply copy-
 * from information to the diff editor callbacks.
 *
 * @note In order to prevent pre-1.5 servers from doing more work than
 * needed, and sending too much data back, a pre-1.5 'recurse'
 * directive may be sent to the server, based on @a depth.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_status2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter3_t</name> **</type><name>reporter</name></decl></param>,
                  <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>status_target</name></decl></param>,
                  <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                  <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>status_editor</name></decl></param>,
                  <param><decl><type><name>void</name> *</type><name>status_baton</name></decl></param>,
                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Similar to svn_ra_do_status2(), but taking @c svn_ra_reporter2_t
 * instead of @c svn_ra_reporter3_t, and therefore only able to report
 * @c svn_depth_infinity for depths.  The status operation itself is
 * performed according to @a recurse: if TRUE, then @a depth is
 * @c svn_depth_infinity, else it is @c svn_depth_immediates.
 *
 * @deprecated Provided for compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_status</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter2_t</name> **</type><name>reporter</name></decl></param>,
                 <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>status_target</name></decl></param>,
                 <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                 <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>status_editor</name></decl></param>,
                 <param><decl><type><name>void</name> *</type><name>status_baton</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Ask the RA layer to 'diff' a working copy against @a versus_url;
 * it's another form of svn_ra_do_update2().
 *
 * @note This function cannot be used to diff a single file, only a
 * working copy directory.  See the svn_ra_do_switch2() function
 * for more details.
 *
 * The client initially provides a @a diff_editor/@a diff_baton to the RA
 * layer; this editor contains knowledge of where the common diff
 * root is in the working copy (when open_root() is called).
 *
 * In return, the client receives a @a reporter/@a report_baton. The
 * client then describes its working copy by making calls into the
 * @a reporter.
 *
 * When finished, the client calls @a reporter-&gt;finish_report().  The
 * RA layer then does a complete drive of @a diff_editor, ending with
 * close_edit(), to transmit the diff.
 *
 * @a diff_target is an optional single path component will restrict
 * the scope of the diff to an entry in the directory represented by
 * the @a session's URL, or empty if the entire directory is meant to be
 * one of the diff paths.
 *
 * The working copy will be diffed against @a versus_url as it exists
 * in revision @a revision, or as it is in head if @a revision is
 * @c SVN_INVALID_REVNUM.
 *
 * Use @a ignore_ancestry to control whether or not items being
 * diffed will be checked for relatedness first.  Unrelated items
 * are typically transmitted to the editor as a deletion of one thing
 * and the addition of another, but if this flag is @c TRUE,
 * unrelated items will be diffed as if they were related.
 *
 * Diff only as deeply as @a depth indicates.
 *
 * The caller may not perform any RA operations using @a session before
 * finishing the report, and may not perform any RA operations using
 * @a session from within the editing operations of @a diff_editor.
 *
 * @a text_deltas instructs the driver of the @a diff_editor to enable
 * the generation of text deltas. If @a text_deltas is FALSE the window
 * handler returned by apply_textdelta will be called once with a NULL
 * @c svn_txdelta_window_t pointer.
 *
 * Use @a pool for memory allocation.
 *
 * @note The reporter provided by this function does NOT supply copy-
 * from information to the diff editor callbacks.
 *
 * @note In order to prevent pre-1.5 servers from doing more work than
 * needed, and sending too much data back, a pre-1.5 'recurse'
 * directive may be sent to the server, based on @a depth.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_diff3</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter3_t</name> **</type><name>reporter</name></decl></param>,
                <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>diff_target</name></decl></param>,
                <param><decl><type><name>svn_depth_t</name></type> <name>depth</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>ignore_ancestry</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>text_deltas</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>versus_url</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>diff_editor</name></decl></param>,
                <param><decl><type><name>void</name> *</type><name>diff_baton</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to svn_ra_do_diff3(), but taking @c svn_ra_reporter2_t
 * instead of @c svn_ra_reporter3_t, and therefore only able to report
 * @c svn_depth_infinity for depths.  Perform the diff according to
 * @a recurse: if TRUE, then @a depth is @c svn_depth_infinity, else
 * it is @c svn_depth_files.
 *
 * @deprecated Provided for compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_diff2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter2_t</name> **</type><name>reporter</name></decl></param>,
                <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>diff_target</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>ignore_ancestry</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>text_deltas</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>versus_url</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>diff_editor</name></decl></param>,
                <param><decl><type><name>void</name> *</type><name>diff_baton</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Similar to svn_ra_do_diff2(), but with @a text_deltas set to @c TRUE.
 *
 * @deprecated Provided for backward compatibility with the 1.3 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_do_diff</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter2_t</name> **</type><name>reporter</name></decl></param>,
               <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
               <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>diff_target</name></decl></param>,
               <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
               <param><decl><type><name>svn_boolean_t</name></type> <name>ignore_ancestry</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>versus_url</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>diff_editor</name></decl></param>,
               <param><decl><type><name>void</name> *</type><name>diff_baton</name></decl></param>,
               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Invoke @a receiver with @a receiver_baton on each log message from
 * @a start to @a end.  @a start may be greater or less than @a end;
 * this just controls whether the log messages are processed in descending
 * or ascending revision number order.
 *
 * If @a start or @a end is @c SVN_INVALID_REVNUM, it defaults to youngest.
 *
 * If @a paths is non-NULL and has one or more elements, then only show
 * revisions in which at least one of @a paths was changed (i.e., if
 * file, text or props changed; if dir, props changed or an entry
 * was added or deleted).  Each path is an &lt;tt&gt;const char *&lt;/tt&gt;, relative
 * to the @a session's common parent.
 *
 * If @a limit is non-zero only invoke @a receiver on the first @a limit
 * logs.
 *
 * If @a discover_changed_paths, then each call to receiver passes a
 * &lt;tt&gt;const apr_hash_t *&lt;/tt&gt; for the receiver's @a changed_paths argument;
 * the hash's keys are all the paths committed in that revision.
 * Otherwise, each call to receiver passes NULL for @a changed_paths.
 *
 * If @a strict_node_history is set, copy history will not be traversed
 * (if any exists) when harvesting the revision logs for each path.
 *
 * If @a include_merged_revisions is set, log information for revisions
 * which have been merged to @a targets will also be returned.
 *
 * If @a revprops is NULL, retrieve all revprops; else, retrieve only the
 * revprops named in the array (i.e. retrieve none if the array is empty).
 *
 * If any invocation of @a receiver returns error, return that error
 * immediately and without wrapping it.
 *
 * If @a start or @a end is a non-existent revision, return the error
 * @c SVN_ERR_FS_NO_SUCH_REVISION, without ever invoking @a receiver.
 *
 * See also the documentation for @c svn_log_message_receiver_t.
 *
 * The caller may not invoke any RA operations using @a session from
 * within @a receiver.
 *
 * Use @a pool for memory allocation.
 *
 * @note Pre-1.5 servers do not support custom revprop retrieval; if @a
 * revprops is NULL or contains a revprop other than svn:author, svn:date,
 * or svn:log, an @c SVN_ERR_RA_NOT_IMPLEMENTED error is returned.
 *
 * @since New in 1.5.
 */</comment>

<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_log2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>apr_array_header_t</name> *</type><name>paths</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
                <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
                <param><decl><type><name>int</name></type> <name>limit</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>discover_changed_paths</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>strict_node_history</name></decl></param>,
                <param><decl><type><name>svn_boolean_t</name></type> <name>include_merged_revisions</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>apr_array_header_t</name> *</type><name>revprops</name></decl></param>,
                <param><decl><type><name>svn_log_entry_receiver_t</name></type> <name>receiver</name></decl></param>,
                <param><decl><type><name>void</name> *</type><name>receiver_baton</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to svn_ra_get_log2(), but uses @c svn_log_message_receiver_t
 * instead of @c svn_log_entry_receiver_t.  Also, @a
 * include_merged_revisions is set to @c FALSE and @a revprops is
 * svn:author, svn:date, and svn:log.
 *
 * @since New in 1.2.
 * @deprecated Provided for backward compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_log</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
               <param><decl><type><specifier>const</specifier> <name>apr_array_header_t</name> *</type><name>paths</name></decl></param>,
               <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
               <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
               <param><decl><type><name>int</name></type> <name>limit</name></decl></param>,
               <param><decl><type><name>svn_boolean_t</name></type> <name>discover_changed_paths</name></decl></param>,
               <param><decl><type><name>svn_boolean_t</name></type> <name>strict_node_history</name></decl></param>,
               <param><decl><type><name>svn_log_message_receiver_t</name></type> <name>receiver</name></decl></param>,
               <param><decl><type><name>void</name> *</type><name>receiver_baton</name></decl></param>,
               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *kind to the node kind associated with @a path at @a revision.
 * If @a path does not exist under @a revision, set @a *kind to
 * @c svn_node_none.  @a path is relative to the @a session's parent URL.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_check_path</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                  <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                  <param><decl><type><name>svn_node_kind_t</name> *</type><name>kind</name></decl></param>,
                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *dirent to an @c svn_dirent_t associated with @a path at @a
 * revision.  @a path is relative to the @a session's parent's URL.
 * If @a path does not exist in @a revision, set @a *dirent to NULL.
 *
 * Use @a pool for memory allocation.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_stat</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
            <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
            <param><decl><type><name>svn_dirent_t</name> **</type><name>dirent</name></decl></param>,
            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Set @a *uuid to the repository's UUID, allocated in @a pool.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_uuid2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>uuid</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similar to svn_ra_get_uuid2(), but returns the value allocated in
 * @a session's pool.
 *
 * @deprecated Provided for backward compatibility with the 1.4 API.
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_uuid</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>uuid</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *url to the repository's root URL, allocated in @a pool.
 * The value will not include a trailing '/'.  The returned URL is
 * guaranteed to be a prefix of the @a session's URL.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_repos_root2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>url</name></decl></param>,
                       <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Similar to svn_ra_get_repos_root2(), but returns the value
 * allocated in @a session's pool.
 *
 * @deprecated Provided for backward compatibility with the 1.4 API.
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_repos_root</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                      <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>url</name></decl></param>,
                      <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *locations to the locations (at the repository revisions
 * @a location_revisions) of the file identified by @a path in
 * @a peg_revision.  @a path is relative to the URL to which
 * @a session was opened.  @a location_revisions is an array of
 * @c svn_revnum_t's.  @a *locations will be a mapping from the revisions to
 * their appropriate absolute paths.  If the file doesn't exist in a
 * location_revision, that revision will be ignored.
 *
 * Use @a pool for all allocations.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_locations</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                     <param><decl><type><name>apr_hash_t</name> **</type><name>locations</name></decl></param>,
                     <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                     <param><decl><type><name>svn_revnum_t</name></type> <name>peg_revision</name></decl></param>,
                     <param><decl><type><name>apr_array_header_t</name> *</type><name>location_revisions</name></decl></param>,
                     <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Call @a receiver (with @a receiver_baton) for each segment in the
 * location history of @a path in @a peg_revision, working backwards in
 * time from @a start_rev to @a end_rev.
 *
 * @a end_rev may be @c SVN_INVALID_REVNUM to indicate that you want
 * to trace the history of the object to its origin.
 *
 * @a start_rev may be @c SVN_INVALID_REVNUM to indicate "the HEAD
 * revision".  Otherwise, @a start_rev must be younger than @a end_rev
 * (unless @a end_rev is @c SVN_INVALID_REVNUM).
 *
 * @a peg_revision may be @c SVN_INVALID_REVNUM to indicate "the HEAD
 * revision", and must evaluate to be at least as young as @a start_rev.
 *
 * Use @a pool for all allocations.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_location_segments</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                             <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                             <param><decl><type><name>svn_revnum_t</name></type> <name>peg_revision</name></decl></param>,
                             <param><decl><type><name>svn_revnum_t</name></type> <name>start_rev</name></decl></param>,
                             <param><decl><type><name>svn_revnum_t</name></type> <name>end_rev</name></decl></param>,
                             <param><decl><type><name>svn_location_segment_receiver_t</name></type> <name>receiver</name></decl></param>,
                             <param><decl><type><name>void</name> *</type><name>receiver_baton</name></decl></param>,
                             <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Retrieve a subset of the interesting revisions of a file @a path
 * as seen in revision @a end (see svn_fs_history_prev() for a
 * definition of "interesting revisions").  Invoke @a handler with
 * @a handler_baton as its first argument for each such revision.
 * @a session is an open RA session.  Use @a pool for all allocations.
 *
 * If there is an interesting revision of the file that is less than or
 * equal to @a start, the iteration will begin at that revision.
 * Else, the iteration will begin at the first revision of the file in
 * the repository, which has to be less than or equal to @a end.  Note
 * that if the function succeeds, @a handler will have been called at
 * least once.
 *
 * In a series of calls to @a handler, the file contents for the first
 * interesting revision will be provided as a text delta against the
 * empty file.  In the following calls, the delta will be against the
 * fulltext contents for the previous call.
 *
 * If @a include_merged_revisions is TRUE, revisions which a included as a
 * result of a merge between @a start and @a end will be included.
 *
 * @note This functionality is not available in pre-1.1 servers.  If the
 * server doesn't implement it, an @c SVN_ERR_RA_NOT_IMPLEMENTED error is
 * returned.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_file_revs2</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                      <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                      <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
                      <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
                      <param><decl><type><name>svn_boolean_t</name></type> <name>include_merged_revisions</name></decl></param>,
                      <param><decl><type><name>svn_file_rev_handler_t</name></type> <name>handler</name></decl></param>,
                      <param><decl><type><name>void</name> *</type><name>handler_baton</name></decl></param>,
                      <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Similiar to svn_ra_get_file_revs2(), but with @a include_merged_revisions
 * set to FALSE.
 *
 * @since New in 1.2.
 * @deprecated Provided for backward compatibility with the 1.4 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_file_revs</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                     <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                     <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
                     <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
                     <param><decl><type><name>svn_ra_file_rev_handler_t</name></type> <name>handler</name></decl></param>,
                     <param><decl><type><name>void</name> *</type><name>handler_baton</name></decl></param>,
                     <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Lock each path in @a path_revs, which is a hash whose keys are the
 * paths to be locked, and whose values are the corresponding base
 * revisions for each path.
 *
 * Note that locking is never anonymous, so any server implementing
 * this function will have to "pull" a username from the client, if
 * it hasn't done so already.
 *
 * @a comment is optional: it's either an xml-escapable string
 * which describes the lock, or it is NULL.
 *
 * If any path is already locked by a different user, then call @a
 * lock_func/@a lock_baton with an error.  If @a steal_lock is TRUE,
 * then "steal" the existing lock(s) anyway, even if the RA username
 * does not match the current lock's owner.  Delete any lock on the
 * path, and unconditionally create a new lock.
 *
 * For each path, if its base revision (in @a path_revs) is a valid
 * revnum, then do an out-of-dateness check.  If the revnum is less
 * than the last-changed-revision of any path (or if a path doesn't
 * exist in HEAD), call @a lock_func/@a lock_baton with an
 * SVN_ERR_RA_OUT_OF_DATE error.
 *
 * After successfully locking a file, @a lock_func is called with the
 * @a lock_baton.
 *
 * Use @a pool for temporary allocations.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_lock</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
            <param><decl><type><name>apr_hash_t</name> *</type><name>path_revs</name></decl></param>,
            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>comment</name></decl></param>,
            <param><decl><type><name>svn_boolean_t</name></type> <name>steal_lock</name></decl></param>,
            <param><decl><type><name>svn_ra_lock_callback_t</name></type> <name>lock_func</name></decl></param>,
            <param><decl><type><name>void</name> *</type><name>lock_baton</name></decl></param>,
            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Remove the repository lock for each path in @a path_tokens.
 * @a path_tokens is a hash whose keys are the paths to be locked, and
 * whose values are the corresponding lock tokens for each path.  If
 * the path has no corresponding lock token, or if @a break_lock is TRUE,
 * then the corresponding value shall be "".
 *
 * Note that unlocking is never anonymous, so any server
 * implementing this function will have to "pull" a username from
 * the client, if it hasn't done so already.
 *
 * If @a token points to a lock, but the RA username doesn't match the
 * lock's owner, call @a lock_func/@a lock_baton with an error.  If @a
 * break_lock is TRUE, however, instead allow the lock to be "broken"
 * by the RA user.
 *
 * After successfully unlocking a path, @a lock_func is called with
 * the @a lock_baton.
 *
 * Use @a pool for temporary allocations.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_unlock</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
              <param><decl><type><name>apr_hash_t</name> *</type><name>path_tokens</name></decl></param>,
              <param><decl><type><name>svn_boolean_t</name></type> <name>break_lock</name></decl></param>,
              <param><decl><type><name>svn_ra_lock_callback_t</name></type> <name>lock_func</name></decl></param>,
              <param><decl><type><name>void</name> *</type><name>lock_baton</name></decl></param>,
              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * If @a path is locked, set @a *lock to an svn_lock_t which
 * represents the lock, allocated in @a pool.  If @a path is not
 * locked, set @a *lock to NULL.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_lock</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                <param><decl><type><name>svn_lock_t</name> **</type><name>lock</name></decl></param>,
                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *locks to a hashtable which represents all locks on or
 * below @a path.
 *
 * The hashtable maps (const char *) absolute fs paths to (const
 * svn_lock_t *) structures.  The hashtable -- and all keys and
 * values -- are allocated in @a pool.
 *
 * @note It is not considered an error for @a path to not exist in HEAD.
 * Such a search will simply return no locks.
 *
 * @note This functionality is not available in pre-1.2 servers.  If the
 * server doesn't implement it, an @c SVN_ERR_RA_NOT_IMPLEMENTED error is
 * returned.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_locks</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                 <param><decl><type><name>apr_hash_t</name> **</type><name>locks</name></decl></param>,
                 <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Replay the changes from a range of revisions between @a start_revision 
 * and @a end_revision.
 *
 * When receiving information for one revision, a callback @a revstart_func is
 * called; this callback will provide an editor and baton through which the
 * revision will be replayed.
 * When replaying the revision is finished, callback @a fevfinish_func will be 
 * called so the editor can be closed.
 * 
 * Changes will be limited to those that occur under @a session's URL, and
 * the server will assume that the client has no knowledge of revisions
 * prior to @a low_water_mark.  These two limiting factors define the portion
 * of the tree that the server will assume the client already has knowledge of,
 * and thus any copies of data from outside that part of the tree will be
 * sent in their entirety, not as simple copies or deltas against a previous
 * version.
 *
 * If @a send_deltas is @c TRUE, the actual text and property changes in
 * the revision will be sent, otherwise dummy text deltas and NULL property
 * changes will be sent instead.
 *
 * @a pool is used for all allocation.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_replay_range</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                    <param><decl><type><name>svn_revnum_t</name></type> <name>start_revision</name></decl></param>,
                    <param><decl><type><name>svn_revnum_t</name></type> <name>end_revision</name></decl></param>,
                    <param><decl><type><name>svn_revnum_t</name></type> <name>low_water_mark</name></decl></param>,
                    <param><decl><type><name>svn_boolean_t</name></type> <name>send_deltas</name></decl></param>,
                    <param><decl><type><name>svn_ra_replay_revstart_callback_t</name></type> <name>revstart_func</name></decl></param>,
                    <param><decl><type><name>svn_ra_replay_revfinish_callback_t</name></type> <name>revfinish_func</name></decl></param>,
                    <param><decl><type><name>void</name> *</type><name>replay_baton</name></decl></param>,
                    <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Replay the changes from @a revision through @a editor and @a edit_baton.
 *
 * Changes will be limited to those that occur under @a session's URL, and
 * the server will assume that the client has no knowledge of revisions
 * prior to @a low_water_mark.  These two limiting factors define the portion
 * of the tree that the server will assume the client already has knowledge of,
 * and thus any copies of data from outside that part of the tree will be
 * sent in their entirety, not as simple copies or deltas against a previous
 * version.
 *
 * If @a send_deltas is @c TRUE, the actual text and property changes in
 * the revision will be sent, otherwise dummy text deltas and null property
 * changes will be sent instead.
 *
 * @a pool is used for all allocation.
 *
 * @since New in 1.4.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_replay</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
              <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
              <param><decl><type><name>svn_revnum_t</name></type> <name>low_water_mark</name></decl></param>,
              <param><decl><type><name>svn_boolean_t</name></type> <name>send_deltas</name></decl></param>,
              <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>editor</name></decl></param>,
              <param><decl><type><name>void</name> *</type><name>edit_baton</name></decl></param>,
              <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Set @a *has to TRUE if the server represented by @a session has
 * @a capability (one of the capabilities beginning with
 * @c "SVN_RA_CAPABILITY_"), else set @a *has to FALSE.
 *
 * If @a capability isn't recognized, throw @c SVN_ERR_UNKNOWN_CAPABILITY,
 * with the effect on @a *has undefined.
 *
 * Use @a pool for all allocation.
 *
 * @since New in 1.5.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_has_capability</name><parameter_list>(<param><decl><type><name>svn_ra_session_t</name> *</type><name>session</name></decl></param>,
                      <param><decl><type><name>svn_boolean_t</name> *</type><name>has</name></decl></param>,
                      <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>capability</name></decl></param>,
                      <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * The capability of understanding @c svn_depth_t (e.g., the server
 * understands what the client means when the client describes the
 * depth of a working copy to the server.)
 *
 * @since New in 1.5.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_CAPABILITY_DEPTH</name></cpp:macro> <cpp:value>"depth"</cpp:value></cpp:define>

<comment type="block">/**
 * The capability of doing the right thing with merge-tracking
 * information.  This capability should be reported bidirectionally,
 * because some repositories may want to reject clients that do not
 * self-report as knowing how to handle merge-tracking.
 *
 * @since New in 1.5.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_CAPABILITY_MERGEINFO</name></cpp:macro> <cpp:value>"mergeinfo"</cpp:value></cpp:define>

<comment type="block">/**
 * The capability of retrieving arbitrary revprops in svn_ra_get_log2.
 *
 * @since New in 1.5.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_CAPABILITY_LOG_REVPROPS</name></cpp:macro> <cpp:value>"log-revprops"</cpp:value></cpp:define>

<comment type="block">/**
 * The capability of replaying a directory in the repository (partial replay).
 *
 * @since New in 1.5.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_CAPABILITY_PARTIAL_REPLAY</name></cpp:macro> <cpp:value>"partial-replay"</cpp:value></cpp:define>

<comment type="block">/**
 * The capability of including revision properties in a commit.
 *
 * @since New in 1.5.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_CAPABILITY_COMMIT_REVPROPS</name></cpp:macro> <cpp:value>"commit-revprops"</cpp:value></cpp:define>

<comment type="block">/*       *** PLEASE READ THIS IF YOU ADD A NEW CAPABILITY ***
 *
 * RA layers generally fetch all capabilities when asked about any
 * capability, to save future round trips.  So if you add a new
 * capability here, make sure to update the RA layers to remember
 * it after any capabilities query.
 *
 * Also note that capability strings should not include colons,
 * because we pass a list of client capabilities to the start-commit
 * hook as a single, colon-separated string.
 */</comment>

<comment type="block">/**
 * Append a textual list of all available RA modules to the stringbuf
 * @a output.
 *
 * @since New in 1.2.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_print_modules</name><parameter_list>(<param><decl><type><name>svn_stringbuf_t</name> *</type><name>output</name></decl></param>,
                     <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<comment type="block">/**
 * Similar to svn_ra_print_modules().
 * @a ra_baton is ignored.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_print_ra_libraries</name><parameter_list>(<param><decl><type><name>svn_stringbuf_t</name> **</type><name>descriptions</name></decl></param>,
                          <param><decl><type><name>void</name> *</type><name>ra_baton</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>


<escape char="0xc"/>
<comment type="block">/**
 * Using this callback struct is similar to calling the newer public
 * interface that is based on @c svn_ra_session_t.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<typedef>typedef <type><struct>struct <name>svn_ra_plugin_t</name>
<block>{
  <comment type="block">/** The proper name of the RA library, (like "ra_neon" or "ra_local") */</comment>
  <decl_stmt><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl>;</decl_stmt>

  <comment type="block">/** Short doc string printed out by `svn --version` */</comment>
  <decl_stmt><decl><type><specifier>const</specifier> <name>char</name> *</type><name>description</name></decl>;</decl_stmt>

  <comment type="block">/* The vtable hooks */</comment>

  <comment type="block">/** Call svn_ra_open() and set @a session_baton to an object representing
   * the new session.  All other arguments are passed to svn_ra_open().
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>open</name>)<parameter_list>(<param><decl><type><name>void</name> **</type><name>session_baton</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>repos_URL</name></decl></param>,
                       <param><decl><type><specifier>const</specifier> <name>svn_ra_callbacks_t</name> *</type><name>callbacks</name></decl></param>,
                       <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                       <param><decl><type><name>apr_hash_t</name> *</type><name>config</name></decl></param>,
                       <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_latest_revnum() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_latest_revnum</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                    <param><decl><type><name>svn_revnum_t</name> *</type><name>latest_revnum</name></decl></param>,
                                    <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_dated_revision() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_dated_revision</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                     <param><decl><type><name>svn_revnum_t</name> *</type><name>revision</name></decl></param>,
                                     <param><decl><type><name>apr_time_t</name></type> <name>tm</name></decl></param>,
                                     <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_change_rev_prop() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>change_rev_prop</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                  <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                                  <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                                  <param><decl><type><specifier>const</specifier> <name>svn_string_t</name> *</type><name>value</name></decl></param>,
                                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_rev_proplist() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>rev_proplist</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                               <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                               <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                               <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_rev_prop() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>rev_prop</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name></type> <name>rev</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>name</name></decl></param>,
                           <param><decl><type><name>svn_string_t</name> **</type><name>value</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_commit_editor() with the session associated with
   * @a session_baton and all other arguments plus @a lock_tokens set to
   * @c NULL and @a keep_locks set to @c TRUE.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_commit_editor</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                    <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> **</type><name>editor</name></decl></param>,
                                    <param><decl><type><name>void</name> **</type><name>edit_baton</name></decl></param>,
                                    <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>log_msg</name></decl></param>,
                                    <param><decl><type><name>svn_commit_callback_t</name></type> <name>callback</name></decl></param>,
                                    <param><decl><type><name>void</name> *</type><name>callback_baton</name></decl></param>,
                                    <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_file() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_file</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                           <param><decl><type><name>svn_stream_t</name> *</type><name>stream</name></decl></param>,
                           <param><decl><type><name>svn_revnum_t</name> *</type><name>fetched_rev</name></decl></param>,
                           <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_dir() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_dir</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                          <param><decl><type><name>apr_hash_t</name> **</type><name>dirents</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name> *</type><name>fetched_rev</name></decl></param>,
                          <param><decl><type><name>apr_hash_t</name> **</type><name>props</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_do_update() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>do_update</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter_t</name> **</type><name>reporter</name></decl></param>,
                            <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_update_to</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>update_target</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>update_editor</name></decl></param>,
                            <param><decl><type><name>void</name> *</type><name>update_baton</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_do_switch() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>do_switch</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter_t</name> **</type><name>reporter</name></decl></param>,
                            <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision_to_switch_to</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_target</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>switch_url</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>switch_editor</name></decl></param>,
                            <param><decl><type><name>void</name> *</type><name>switch_baton</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_do_status() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>do_status</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter_t</name> **</type><name>reporter</name></decl></param>,
                            <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>status_target</name></decl></param>,
                            <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                            <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                            <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>status_editor</name></decl></param>,
                            <param><decl><type><name>void</name> *</type><name>status_baton</name></decl></param>,
                            <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_do_diff() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>do_diff</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>svn_ra_reporter_t</name> **</type><name>reporter</name></decl></param>,
                          <param><decl><type><name>void</name> **</type><name>report_baton</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>diff_target</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>recurse</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>ignore_ancestry</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>versus_url</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>svn_delta_editor_t</name> *</type><name>diff_editor</name></decl></param>,
                          <param><decl><type><name>void</name> *</type><name>diff_baton</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_log() with the session associated with
   * @a session_baton and all other arguments.  @a limit is set to 0.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_log</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                          <param><decl><type><specifier>const</specifier> <name>apr_array_header_t</name> *</type><name>paths</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
                          <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>discover_changed_paths</name></decl></param>,
                          <param><decl><type><name>svn_boolean_t</name></type> <name>strict_node_history</name></decl></param>,
                          <param><decl><type><name>svn_log_message_receiver_t</name></type> <name>receiver</name></decl></param>,
                          <param><decl><type><name>void</name> *</type><name>receiver_baton</name></decl></param>,
                          <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_check_path() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>check_path</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                             <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                             <param><decl><type><name>svn_revnum_t</name></type> <name>revision</name></decl></param>,
                             <param><decl><type><name>svn_node_kind_t</name> *</type><name>kind</name></decl></param>,
                             <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_uuid() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_uuid</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                           <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>uuid</name></decl></param>,
                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/** Call svn_ra_get_repos_root() with the session associated with
   * @a session_baton and all other arguments.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_repos_root</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                 <param><decl><type><specifier>const</specifier> <name>char</name> **</type><name>url</name></decl></param>,
                                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/**
   * Call svn_ra_get_locations() with the session associated with
   * @a session_baton and all other arguments.
   *
   * @since New in 1.1.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_locations</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                <param><decl><type><name>apr_hash_t</name> **</type><name>locations</name></decl></param>,
                                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                <param><decl><type><name>svn_revnum_t</name></type> <name>peg_revision</name></decl></param>,
                                <param><decl><type><name>apr_array_header_t</name> *</type><name>location_revisions</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/**
   * Call svn_ra_get_file_revs() with the session associated with
   * @a session_baton and all other arguments.
   *
   * @since New in 1.1.
   */</comment>
  <function_decl><type><name>svn_error_t</name> *</type>(*<name>get_file_revs</name>)<parameter_list>(<param><decl><type><name>void</name> *</type><name>session_baton</name></decl></param>,
                                <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>path</name></decl></param>,
                                <param><decl><type><name>svn_revnum_t</name></type> <name>start</name></decl></param>,
                                <param><decl><type><name>svn_revnum_t</name></type> <name>end</name></decl></param>,
                                <param><decl><type><name>svn_ra_file_rev_handler_t</name></type> <name>handler</name></decl></param>,
                                <param><decl><type><name>void</name> *</type><name>handler_baton</name></decl></param>,
                                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

  <comment type="block">/**
   * Return the plugin's version information.
   *
   * @since New in 1.1.
   */</comment>
  <function_decl><type><specifier>const</specifier> <name>svn_version_t</name> *</type>(*<name>get_version</name>)<parameter_list>(<param><decl><type><name>void</name></type></decl></param>)</parameter_list>;</function_decl>


}</block></struct></type> <name>svn_ra_plugin_t</name>;</typedef>

<comment type="block">/**
 * All "ra_FOO" implementations *must* export a function named
 * svn_ra_FOO_init() of type @c svn_ra_init_func_t.
 *
 * When called by libsvn_client, this routine adds an entry (or
 * entries) to the hash table for any URL schemes it handles.  The hash
 * value must be of type (&lt;tt&gt;@c svn_ra_plugin_t *&lt;/tt&gt;).  @a pool is a
 * pool for allocating configuration / one-time data.
 *
 * This type is defined to use the "C Calling Conventions" to ensure that
 * abi_version is the first parameter. The RA plugin must check that value
 * before accessing the other parameters.
 *
 * ### need to force this to be __cdecl on Windows... how??
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<typedef>typedef <function_decl><type><name>svn_error_t</name> *</type>(*<name>svn_ra_init_func_t</name>)<parameter_list>(<param><decl><type><name>int</name></type> <name>abi_version</name></decl></param>,
                                           <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                                           <param><decl><type><name>apr_hash_t</name> *</type><name>hash</name></decl></param>)</parameter_list>;</function_decl></typedef>

<comment type="block">/**
 * The current ABI (Application Binary Interface) version for the
 * RA plugin model. This version number will change when the ABI
 * between the SVN core (e.g. libsvn_client) and the RA plugin changes.
 *
 * An RA plugin should verify that the passed version number is acceptable
 * before accessing the rest of the parameters, and before returning any
 * information.
 *
 * It is entirely acceptable for an RA plugin to accept multiple ABI
 * versions. It can simply interpret the parameters based on the version,
 * and it can return different plugin structures.
 *
 *
 * &lt;pre&gt;
 * VSN  DATE        REASON FOR CHANGE
 * ---  ----------  ------------------------------------------------
 *   1  2001-02-17  Initial revision.
 *   2  2004-06-29  Preparing for svn 1.1, which adds new RA vtable funcs.
 *      2005-01-19  Rework the plugin interface and don't provide the vtable
 *                  to the client.  Separate ABI versions are no longer used.
 * &lt;/pre&gt;
 *
 * @deprecated Provided for backward compatibility with the 1.0 API.
 */</comment>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_RA_ABI_VERSION</name></cpp:macro>      <cpp:value>2</cpp:value></cpp:define>

<comment type="block">/* Public RA implementations. */</comment>

<comment type="block">/** Initialize libsvn_ra_neon.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API. */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_dav_init</name><parameter_list>(<param><decl><type><name>int</name></type> <name>abi_version</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                <param><decl><type><name>apr_hash_t</name> *</type><name>hash</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Initialize libsvn_ra_local.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API. */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_local_init</name><parameter_list>(<param><decl><type><name>int</name></type> <name>abi_version</name></decl></param>,
                  <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                  <param><decl><type><name>apr_hash_t</name> *</type><name>hash</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Initialize libsvn_ra_svn.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API. */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_svn_init</name><parameter_list>(<param><decl><type><name>int</name></type> <name>abi_version</name></decl></param>,
                <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                <param><decl><type><name>apr_hash_t</name> *</type><name>hash</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/** Initialize libsvn_ra_serf.
 *
 * @since New in 1.4.
 * @deprecated Provided for backward compatibility with the 1.1 API. */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_serf_init</name><parameter_list>(<param><decl><type><name>int</name></type> <name>abi_version</name></decl></param>,
                 <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                 <param><decl><type><name>apr_hash_t</name> *</type><name>hash</name></decl></param>)</parameter_list>;</function_decl>

<escape char="0xc"/>
<comment type="block">/**
 * Initialize the compatibility wrapper, using @a pool for any allocations.
 * The caller must hold on to @a ra_baton as long as the RA library is used.
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type><name>svn_ra_init_ra_libs</name><parameter_list>(<param><decl><type><name>void</name> **</type><name>ra_baton</name></decl></param>, <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/**
 * Return an RA vtable-@a library which can handle URL.  A number of
 * svn_client_* routines will call this internally, but client apps might
 * use it too.  $a ra_baton is a baton obtained by a call to
 * svn_ra_init_ra_libs().
 *
 * @deprecated Provided for backward compatibility with the 1.1 API.
 */</comment>
<function_decl><type><name>svn_error_t</name> *</type>
<name>svn_ra_get_ra_library</name><parameter_list>(<param><decl><type><name>svn_ra_plugin_t</name> **</type><name>library</name></decl></param>,
                      <param><decl><type><name>void</name> *</type><name>ra_baton</name></decl></param>,
                      <param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>url</name></decl></param>,
                      <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>)</parameter_list>;</function_decl>

<cpp:ifdef>#<cpp:directive>ifdef</cpp:directive> <name>__cplusplus</name></cpp:ifdef>
}</block></extern>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif> <comment type="block">/* __cplusplus */</comment>

<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif>  <comment type="block">/* SVN_RA_H */</comment>

</unit>
