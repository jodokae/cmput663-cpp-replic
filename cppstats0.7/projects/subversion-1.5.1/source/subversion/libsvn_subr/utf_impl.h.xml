<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" language="C" filename="projects/subversion-1.5.1/source/subversion/libsvn_subr/utf_impl.h"><comment type="block">/*
 * utf_impl.h :  private header for the charset converstion functions.
 *
 * ====================================================================
 * Copyright (c) 2000-2004 CollabNet.  All rights reserved.
 *
 * This software is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at http://subversion.tigris.org/license-1.html.
 * If newer versions of this license are posted there, you may use a
 * newer version instead, at your option.
 *
 * This software consists of voluntary contributions made by many
 * individuals.  For exact contribution history, see the revision
 * history and logs, available at http://subversion.tigris.org/.
 * ====================================================================
 */</comment>


<escape char="0xc"/>
<cpp:ifndef>#<cpp:directive>ifndef</cpp:directive> <name>SVN_LIBSVN_SUBR_UTF_IMPL_H</name></cpp:ifndef>
<cpp:define>#<cpp:directive>define</cpp:directive> <cpp:macro><name>SVN_LIBSVN_SUBR_UTF_IMPL_H</name></cpp:macro></cpp:define>


<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>&lt;apr_pools.h&gt;</cpp:file></cpp:include>
<cpp:include>#<cpp:directive>include</cpp:directive> <cpp:file>"svn_types.h"</cpp:file></cpp:include>

<cpp:ifdef>#<cpp:directive>ifdef</cpp:directive> <name>__cplusplus</name></cpp:ifdef>
<extern>extern "C" <block>{
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif> <comment type="block">/* __cplusplus */</comment>

<escape char="0xc"/>
<function_decl><type><specifier>const</specifier> <name>char</name> *</type><name>svn_utf__cstring_from_utf8_fuzzy</name><parameter_list>(<param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>src</name></decl></param>,
                                             <param><decl><type><name>apr_pool_t</name> *</type><name>pool</name></decl></param>,
                                             <param><function_decl><type><name>svn_error_t</name> *</type>(*<name>convert_from_utf8</name>)
                                             <parameter_list>(<param><decl><type><specifier>const</specifier></type> <name>char</name> **</decl></param>,
                                              <param><decl><type><specifier>const</specifier></type> <name>char</name> *</decl></param>,
                                              <param><decl><type><name>apr_pool_t</name> *</type></decl></param>)</parameter_list></function_decl></param>)</parameter_list>;</function_decl>


<comment type="block">/* Return a pointer to the first character after the last valid UTF-8
 * multi-byte character in the string SRC of length LEN.  If SRC is a valid
 * UTF-8 the return value will point to the byte after SRC+LEN, otherwise
 * it will point to the start of the first invalid multi-byte character.
 * In either case all the characters between SRC and the return pointer are
 * valid UTF-8.
 */</comment>
<function_decl><type><specifier>const</specifier> <name>char</name> *</type><name>svn_utf__last_valid</name><parameter_list>(<param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>src</name></decl></param>, <param><decl><type><name>apr_size_t</name></type> <name>len</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/* Return TRUE if the string SRC of length LEN is a valid UTF-8 encoding
 * according to the rules laid down by the Unicode 4.0 standard, FALSE
 * otherwise.  This function is faster than svn_utf__last_valid.
 */</comment>
<function_decl><type><name>svn_boolean_t</name></type> <name>svn_utf__is_valid</name><parameter_list>(<param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>src</name></decl></param>, <param><decl><type><name>apr_size_t</name></type> <name>len</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/* As for svn_utf__is_valid but SRC is NULL terminated. */</comment>
<function_decl><type><name>svn_boolean_t</name></type> <name>svn_utf__cstring_is_valid</name><parameter_list>(<param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>src</name></decl></param>)</parameter_list>;</function_decl>

<comment type="block">/* As for svn_utf__last_valid but uses a different implementation without
   lookup tables.  It avoids the table memory use (about 400 bytes) but the
   function is longer (about 200 bytes extra) and likely to be slower when
   the string is valid.  If the string is invalid this function may be
   faster since it returns immediately rather than continuing to the end of
   the string.  The main reason this function exists is to test the table
   driven implementation.  */</comment>
<function_decl><type><specifier>const</specifier> <name>char</name> *</type><name>svn_utf__last_valid2</name><parameter_list>(<param><decl><type><specifier>const</specifier> <name>char</name> *</type><name>src</name></decl></param>, <param><decl><type><name>apr_size_t</name></type> <name>len</name></decl></param>)</parameter_list>;</function_decl>

<cpp:ifdef>#<cpp:directive>ifdef</cpp:directive> <name>__cplusplus</name></cpp:ifdef>
}</block></extern>
<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif> <comment type="block">/* __cplusplus */</comment>

<cpp:endif>#<cpp:directive>endif</cpp:directive></cpp:endif> <comment type="block">/* SVN_LIBSVN_SUBR_UTF_IMPL_H */</comment>
</unit>
